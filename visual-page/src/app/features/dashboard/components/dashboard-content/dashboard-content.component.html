<div class="dashboard-content">
  <!-- Page Header -->
  <div class="dashboard-header">
    <h1 class="dashboard-title">Panel de Control</h1>
    <p class="dashboard-subtitle">Bienvenido de vuelta, aquí está tu resumen</p>
  </div>

  <!-- Stats Cards Grid -->
  <div class="stats-grid">
    @for (stat of statsData; track stat.title) {
      <app-stats-card
        [title]="stat.title"
        [value]="stat.value"
        [icon]="stat.icon"
        [color]="stat.color"
        [trend]="stat.trend"
        [trendDirection]="stat.trendDirection"
        [subtitle]="stat.subtitle">
      </app-stats-card>
    }
  </div>

  <!-- Two Column Layout for Messages and Table -->
  <div class="content-grid">
    <!-- Recent Messages Section -->
    <div class="messages-section">
      <div class="section-header">
        <div class="section-header-content">
          <h2 class="section-title">Mensajes Recientes</h2>
          @if (unreadMessagesCount() > 0) {
            <span class="unread-badge">{{ unreadMessagesCount() }}</span>
          }
        </div>
        <button class="view-all-btn" (click)="viewAllMessages()">
          Ver todos
          <i class="material-icons">arrow_forward</i>
        </button>
      </div>

      <div class="messages-container">
        @if (recentMessages().length > 0) {
          @for (message of recentMessages(); track message.id) {
            <app-message-card
              [message]="message"
              (messageClick)="onMessageClick($event)">
            </app-message-card>
          }
        } @else {
          <div class="empty-messages">
            <i class="material-icons">inbox</i>
            <p>No hay mensajes recientes</p>
          </div>
        }
      </div>
    </div>

    <!-- Data Table Section -->
    <div class="table-section">
      <div class="section-header">
        <div class="section-header-content">
          <h2 class="section-title">Usuarios Recientes</h2>
          <p class="section-subtitle">Gestiona y visualiza los usuarios del sistema</p>
        </div>
      </div>

      <app-table
        [columns]="tableColumns"
        [data]="tableData()"
        [actions]="tableActions"
        [loading]="isTableLoading()"
        [hoverable]="true"
        [striped]="true"
        (rowClick)="onRowClick($event)"
        (actionClick)="onActionClick($event)"
        (sortChange)="onSortChange($event)">
      </app-table>
    </div>
  </div>
</div>
